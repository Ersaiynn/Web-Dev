<div class="card">
  <a class="img-wrap" [href]="product.link" target="_blank" rel="noopener noreferrer">
    <img [src]="selectedImage || product.image" [alt]="product.name" />
  </a>

  <div class="content">
    <h3 class="title">
      <a [href]="product.link" target="_blank" rel="noopener noreferrer">{{ product.name }}</a>
    </h3>

    <p class="desc">{{ product.description }}</p>

    <div class="meta">
      <div class="price">{{ product.price | number }} ₸</div>

      <div class="rating" title="Rating">
        <span class="stars">
          <span class="star" *ngFor="let s of getStars()" [class.filled]="s.filled">★</span>
        </span>
        <span class="badge">{{ product.rating }}</span>
      </div>
    </div>

    <!-- Gallery (optional, но мы сделали) -->
    <div class="thumbs" *ngIf="product.images?.length">
      <button
        class="thumb"
        *ngFor="let img of product.images"
        type="button"
        (click)="setImage(img)"
        [class.active]="img === selectedImage"
      >
        <img [src]="img" [alt]="product.name" />
      </button>
    </div>

    <div class="actions">
      <button type="button" class="btn" (click)="openKaspi()">Open Kaspi</button>
      <button type="button" class="btn" (click)="shareWhatsApp()">Share WhatsApp</button>
      <button type="button" class="btn" (click)="shareTelegram()">Share Telegram</button>
    </div>
  </div>
</div>

